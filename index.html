<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Teste</title>
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" href="./dist/gumga.min.css">
</head>
<body>
	<div ng-app="why">
		<div ng-controller="MainController">

			<nav class="navbar navbar-gumga">
			  <div class="container-fluid">
			    <div class="navbar-header">
						<button type="button" class="navbar-toggle" ng-click="isCollapsed = !isCollapsed">
			        <span class="sr-only">Toggle navigation</span>
			        <span class="icon-bar"></span>
			        <span class="icon-bar"></span>
			        <span class="icon-bar"></span>
			      </button>
			      <a class="navbar-brand" href="#">{{ info.organization }}</a>
			    </div>
			    <div class="collapse navbar-collapse" collapse="isCollapsed">
			      <ul class="nav navbar-nav navbar-right">
							<li class="notification hidden-sm hidden-xs" dropdown on-toggle="toggled(open)">
								<a class="icon" href dropdown-toggle>
									<i class="glyphicon glyphicon-bell"></i>
									<span class="badge">{{ notifications.length }}</span>
								</a>
								<ul class="dropdown-menu" aria-labelledby="simple-dropdown">
									<li ng-if="notifications.length == 0" class="read">
										<div class="text-center">
											<p>Nenhuma mensagem nova</p>
											<i class="glyphicon glyphicon-bell"></i>
										</div>
									</li>
									<li ng-if="notifications.length > 0" ng-repeat="n in notifications">
										<a href="">
											<i class="glyphicon glyphicon-flag"></i>
											{{ n.senderLogin }} - {{ n.message }}</a>
									</li>
								</ul>
							</li>

							<li dropdown on-toggle="toggled(open)">
								<a class="profile" href dropdown-toggle>
									<img class="img-rounded" src="avatar.svg" />
									Nome do usu√°rio
									<i class="glyphicon glyphicon-triangle-bottom"></i>
								</a>
								<ul class="dropdown-menu" aria-labelledby="simple-dropdown">
									<li ng-repeat="link in navlinks">
										<a href="">
											<i class="{{link.glyphicon}}"></i> {{link.text}}
										</a>
									</li>
								</ul>
							</li>
			      </ul>
						<form class="navbar-form navbar-right" role="search">
							<div class="input-group">
					      <input type="text" class="form-control" placeholder="Search for...">
					      <span class="input-group-btn">
					        <button class="btn btn-default" type="button">
					        	<i class="glyphicon glyphicon-search"></i>
					        </button>
					      </span>
					    </div>
			      </form>
			    </div><!-- /.navbar-collapse -->
			  </div><!-- /.container-fluid -->
			</nav>

			<form class="col-sm-9 col-md-10" style="margin-top: 5%">
				<gumga-list data="arrayData"></gumga-list>
      </form>
	</div>

</div>
<script src='bower_components/angular/angular.min.js'></script>
<script src='bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js'></script>
<script src='bower_components/angular-mocks/angular-mocks.js'></script>
<script src='bower_components/angular-ui-router/release/angular-ui-router.min.js'></script>
<script src='bower_components/jquery/dist/jquery.min.js'></script>
<script src='bower_components/remarkable-bootstrap-notify/dist/bootstrap-notify.min.js'></script>
<script src='bower_components/mousetrap-latest/mousetrap.min.js'></script>
<script src="dist/gumga.min.js"></script>
<script>
angular.module('why',['gumga.core'])
.controller('MainController',function($scope,$rootScope,$q,$timeout,GumgaNotification){
	$scope.info = {
		organization: "Gumga"
	};
	$scope.arrayData = [
		{
			name: 'Igor Santana',
			age: 19,
			company: {
				name: 'Gumga',
				address: 'Sala 602'
			}
		},
		{
			name: 'Munif',
			age: 40,
			company: {
				name: 'Gumga',
				address: 'Sala 602'
			}
		}
	]
	$scope.notifications = [
		{"senderLogin":"Gui Seek","message":"Acessou o sistema"},
		{"senderLogin":"Gui Seek","message":"Acessou o sistema"},
		{"senderLogin":"Gui Seek","message":"Acessou o sistema"},
		{"senderLogin":"Gui Seek","message":"Acessou o sistema"},
		{"senderLogin":"Gui Seek","message":"Acessou o sistema"},
		{"senderLogin":"Gui Seek","message":"Acessou o sistema"},
		{"senderLogin":"Gui Seek","message":"Acessou o sistema"},
		{"senderLogin":"Gui Seek","message":"Acessou o sistema"},
		{"senderLogin":"Gui Seek","message":"Acessou o sistema"}
	];
	$scope.navlinks = [
		{text: 'Change Password', glyphicon: 'glyphicon glyphicon-user', value: 'pass'},
		{text: 'Logout', glyphicon: 'glyphicon glyphicon-log-out', value: 'logout'}
	];
	// var notification = GumgaNotification;
	// notification.getEvent().addEventListener('message', function(event) {
	// 	$timeout(function() {
	// 		var n = JSON.parse(event.data);
	// 		$scope.notifications = n.newMessages;
	// 		$scope.notificationsCount = n.newMessagesCount;
	// 	});
	// }, false);

	// $timeout(function() {
	// 	$scope.notifications = GumgaNotification.newMessages();
	// });
});
</script>
</body>
</html>
