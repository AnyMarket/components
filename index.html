<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Teste</title>
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" href="./dist/gumga.min.css">
</head>
<body>
	<div ng-app="why" class="container">
		<div ng-controller="MainController">

			<!-- <gumga-nav
						 title="Teste"
						 multi-entity="true"
						 state="logout">
			</gumga-nav> -->


			<gumga-search
				fields="id,name"
			  advanced="true"
				search-method="search(field,param)"
				advanced-method="advancedSearch(param)"
				translate-entity="changepasswordticket"
			>
				<advanced-field name="id" type="number"></advanced-field>
				<advanced-field name="nome" type="string"></advanced-field>
				<advanced-field name="codigoUniversal" type="string"></advanced-field>
			</gumga-search>



			<form name="myForm" gumga-form="form" novalidate>
				<div class="row">
					<div class="col-md-3">
						<div class="form-group">
							<label for="maxDate">Max Date</label>
							<input type="date" name="maxDate" ng-model="form.maxDate" label="Max Date" gumga-error gumga-max-date="2015-07-20" class="form-control" id="maxDate">
						</div>
					</div>
					<div class="col-md-3">
						<div class="form-group">
							<label for="maxNumber">Max Number</label>
							<input type="number" name="maxNumber" ng-model="form.maxNumber" label="Max Number" gumga-error gumga-min-number="1" gumga-max-number="100" class="form-control" id="maxNumber">
						</div>
					</div>
					<div class="col-md-3">
						<div class="form-group">
							<label for="minDate">Min Date</label>
							<input type="date" name="minDate" ng-model="form.minDate" label="Min Date" gumga-error gumga-min-date="2015-07-20" class="form-control" id="minDate">
						</div>
					</div>
					<div class="col-md-3">
						<div class="form-group">
							<label for="minNumber">Min Number</label>
							<input type="number" name="minNumber" ng-model="form.minNumber" gumga-error gumga-min-number="0" class="form-control" id="minNumber">
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-3">
						<div class="form-group">
							<label for="pattern">Pattern</label>
							<input type="text" name="pattern" ng-model="form.pattern" gumga-error gumga-pattern="(\d{1,2})\-(\d{1,2})\-(\d{4})" pattern-alias="CPF" class="form-control" id="pattern">
						</div>
					</div>
					<div class="col-md-3">
						<div class="form-group">
							<label for="pattern">Required</label>
							<input type="text" name="required" ng-model="form.required" gumga-error gumga-required class="form-control" id="required">
						</div>
					</div>
					<div class="col-md-3">
						<div class="form-group">
							<label for="rangeNumber">Range Number</label>
							<input type="number" name="rangeNumber" ng-model="form.rangeNumber" gumga-error gumga-range-number="{min: 0, max: 10}" class="form-control" id="rangenumber">
						</div>
					</div>
					<div class="col-md-3">
						<div class="form-group">
							<label for="rangeDate">Range Date</label>
							<input type="date" name="rangeDate" ng-model="form.rangeDate" gumga-error gumga-range-date="{min: '1986-12-29', max: '2015-07-20'}" class="form-control" id="rangedate">
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
						</div>
						<div class="col-md-12">
							<gumga-queries input-placeholder="Salvar busca" save-query="saveQuery(query,name)"></gumga-queries>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<gumga-errors placement="right" icon="glyphicon glyphicon-info-sign" label="Campos inválidos" title="Campos inválidos"></gumga-errors>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<gumga-form-buttons submit="save(form)" valid="myForm.$valid"></gumga-form-buttons>
					</div>
				</div>
			</form>
		</div>
	</div>
	<script src='bower_components/angular/angular.min.js'></script>
	<script src='bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js'></script>
	<script src='bower_components/angular-mocks/angular-mocks.js'></script>
	<script src='bower_components/angular-ui-router/release/angular-ui-router.min.js'></script>
	<script src='bower_components/jquery/dist/jquery.min.js'></script>
	<script src='bower_components/remarkable-bootstrap-notify/dist/bootstrap-notify.min.js'></script>
	<script src='bower_components/mousetrap-latest/mousetrap.min.js'></script>
	<script src="dist/gumga.min.js"></script>
	<script>
	angular.module('why',['gumga.core'])
	.controller('MainController',function($scope,$rootScope,$q){
		function getData(number){
			var names = ['João','Juca','Marcos','José','Amarildo','Wladnelson','Jefferson','Maria','Jacinto','Júlia','Carla','Maria Cláudia'];
			var surnames = ['Santana','Silva','Miranda','Souza','Santos','Pereira','Oliveira','Lima','Araújo','Ribeiro','Mendes','Barros','Pinto'];
			var professions = ['Padeiro','Açougueiro','Vendedor de coco','Carpinteiro','Professor de Tecnologia da Informação','Desempregado','Programador','Analsita de Testes', 'Analista de Aviões de Papel','Manufaturador de Aviões de Papel','Campeão do minicurso de Android','Jogador de Futebol']
			var _data = [];
			function isEven(number){ return number % 2 == 0}
			for(var i = 0; i < number;i++){
				_data.push({
					name: names[Math.floor(Math.random()*names.length)] + ' ' + surnames[Math.floor(Math.random()*surnames.length)],
					age: Math.floor(Math.random()*50),
					profession: professions[Math.floor(Math.random()*professions.length)],
					hasDog: isEven(Math.floor(Math.random()*4))
				})
			}
			return _data;
		}

		function getAsyncData(size){
			var def = $q.defer();
			def.resolve({value:getData(size)});
			return def.promise;
		}
		$scope.getQueries = function(){

				return getAsyncData(20)
					.then(function(values){
						return values.value;
					})

		}
		$scope.save = function(data) {
			console.log(data);
		}
		// $scope.list = [
		// 	{name: 'Luke Skywalker',age: 19,dead: false,pet: {name:'Yoda'}},
		//           {name: 'Princess Leia Organa of Alderaan',age: 21,dead: false,pet: {name:'Joaquim'} },
		//           {name: 'Anakin Skywalker',age: 45,dead: true,pet: {name:'Wookie'}},
		//           {name: 'Frodo Baggins',age: 50,dead: false,pet: {name:'Sam'}},
		//           {name: 'Bilbo Baggins',age: 75,dead: true,pet: {name:'Frodo'}},
		//           {name: 'Gandalf the Grey',age: 95,dead: false,pet: {name:'Frodo and Bilbo'}},
		//           {name: 'Tom Bombadil',age: 96,dead: true,pet: {name:'Joaquim'}}
		//       ];
	});
	</script>
</body>
</html>
